(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,r,t){"use strict";var i;!function(e){e.Player="Player",e.Enemy="Enemy"}(i||(i={})),r.a=i},14:function(e,r,t){"use strict";t.d(r,"a",function(){return i}),t.d(r,"d",function(){return n}),t.d(r,"b",function(){return a}),t.d(r,"c",function(){return o});var i=function(e){return null!=e},n=function(e,r){return r<=e?r:r+Math.sqrt(r-e)},a=function(e){return/改$/.test(e)},o=function(e){return/(改二|Верный)(?!丙)/.test(e)}},153:function(e,r,t){"use strict";t.d(r,"d",function(){return i}),t.d(r,"b",function(){return n}),t.d(r,"a",function(){return a});var i=["hp","firepower","armor","torpedo","evasion","antiAir","range","asw","speed","los","luck"],n=function(e,r){var t=e[0],i=e[1];return Math.floor((i-t)*r/99+t)},a=function(e,r){var t=e[0],i=e[1];if(r>=100){var n=e[0];t+=n>=91?9:n>=70?8:n>=50?7:n>=40?6:n>=30?5:n>=8?4:3}return Math.min(t,i)},o=function(){function e(e,r,t){this.master=e,this.level=r,this.increased=t}return e.prototype.getIncreasedStat=function(e){var r=this.increased;if(!r)return 0;var t=r[e];return t||0},Object.defineProperty(e.prototype,"hp",{get:function(){return a(this.master.hp,this.level)+this.getIncreasedStat("hp")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firepower",{get:function(){return this.master.firepower[1]+this.getIncreasedStat("firepower")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"torpedo",{get:function(){return this.master.torpedo[1]+this.getIncreasedStat("torpedo")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"antiAir",{get:function(){return this.master.antiAir[1]+this.getIncreasedStat("antiAir")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"armor",{get:function(){return this.master.armor[1]+this.getIncreasedStat("armor")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"los",{get:function(){return n(this.master.los,this.level)+this.getIncreasedStat("los")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asw",{get:function(){return n(this.master.asw,this.level)+this.getIncreasedStat("asw")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"evasion",{get:function(){return n(this.master.evasion,this.level)+this.getIncreasedStat("evasion")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"luck",{get:function(){return this.master.luck[0]+this.getIncreasedStat("luck")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.master.speed+this.getIncreasedStat("speed")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this.master.range+this.getIncreasedStat("range")},enumerable:!0,configurable:!0}),e}();r.c=o},173:function(e,r,t){"use strict";var i=t(3427),n=t(409),a=function(){return(a=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)},o=function(){function e(e,r,t,n,a){this.side=e,this.fleetType=r,this.landBase=t,this.mainFleet=n,this.escortFleet=a,this.formation=i.a.LineAhead}return Object.defineProperty(e.prototype,"fleetAntiAir",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allShips",{get:function(){var e=this.mainFleet,r=this.escortFleet,t=e.nonNullableShips.concat();return r?t.concat(r.nonNullableShips):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCombinedFleet",{get:function(){return Boolean(this.escortFleet)},enumerable:!0,configurable:!0}),e.prototype.getShipInformation=function(e){var r=this,t=r.mainFleet,i=r.escortFleet,o={side:r.side,fleetType:r.fleetType,fleetAntiAir:r.fleetAntiAir,formation:r.formation};return t.nonNullableShips.find(function(r){return r===e})?a({},o,{fleetRole:n.a.MainFleet}):i&&i.nonNullableShips.find(function(r){return r===e})?a({},o,{fleetRole:n.a.EscortFleet}):void 0},e}();r.a=o},210:function(e,r,t){"use strict";t.d(r,"a",function(){return i});var i=["armor","firepower","torpedo","speed","bombing","antiAir","asw","los","accuracy","evasion","interception","antiBomber","range","radius"]},246:function(e,r,t){"use strict";var i=t(319);t.d(r,"a",function(){return i.a})},279:function(e,r,t){"use strict";var i=t(77),n=function(){function e(e,r){this.master=r,this.value=e||0}return Object.defineProperty(e.prototype,"contactSelectionModifier",{get:function(){var e=this.value,r=this.master,t=r.los,i=r.category;if(!i.isReconnaissanceAircraft)return 0;if(i.either("CarrierBasedReconnaissanceAircraft","CarrierBasedReconnaissanceAircraft2")){if(8===t)return.25*e;if(11===t)return.4*e}else{if(6===t)return.2*e;if(t>=4)return.14*e;if(3===t)return.1*e}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fighterPowerModifier",{get:function(){var e=this.value,r=this.master.category;return r.isFighter?.2*e:r.is("CarrierBasedDiveBomber")?.25*e:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adjustedAntiAirModifier",{get:function(){var e=this.master,r=e.antiAir,t=e.category,n=e.isHighAngleMount;if(0===r)return 0;var a=0;return t.id===i.a.AntiAircraftGun?a=r<=7?4:6:(t.id===i.a.AntiAircraftFireDirector||n)&&(a=r<=7?2:3),a*Math.sqrt(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fleetAntiAirModifier",{get:function(){var e=this.master,r=e.antiAir,t=e.category,n=e.isHighAngleMount;if(0===r)return 0;var a=0;return t.id===i.a.AntiAircraftFireDirector||n?a=r<=7?2:3:t.isRadar&&r>=2&&(a=1.5),a*Math.sqrt(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shellingPowerModifier",{get:function(){var e=this.master,r=e.firepower,t=e.category;if(t.is("Torpedo")||t.is("MidgetSubmarine")||t.isRadar||t.isArmor||t.is("EngineImprovement"))return 0;var i=1;return r>12?i=1.5:(t.is("Sonar")||t.is("LargeSonar")||t.is("DepthCharge"))&&(i=.75),i*Math.sqrt(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shellingAccuracyModifier",{get:function(){var e=this.master,r=e.accuracy,t=e.category;if(t.is("Torpedo"))return 0;var i=t.is("LargeRadar")||t.is("LargeRadar2"),n=t.isRadar&&r>2,a=0;if(i||n)a=1.7;else{if(!(t.is("Sonar")||t.is("LargeSonar")||t.is("DepthCharge")||t.isArmor||t.is("AntiAircraftGun")))return 0;a=1}return a*Math.floor(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectiveLosModifier",{get:function(){var e=0,r=this.master.category;return r.is("SmallRadar")?e=1.25:r.either("LargeRadar","LargeRadar2")?e=1.4:r.either("CarrierBasedReconnaissanceAircraft","CarrierBasedReconnaissanceAircraft2","ReconnaissanceSeaplane")?e=1.2:r.is("SeaplaneBomber")&&(e=1.15),e*Math.sqrt(this.value)},enumerable:!0,configurable:!0}),e}();r.a=n},280:function(e,r,t){"use strict";var i=t(77),n=function(){function e(e,r){void 0===e&&(e=0),this.internal=e,this.master=r}return e.internalToLevel=function(r){return e.internalBounds.filter(function(e){return e<=r}).length-1},Object.defineProperty(e.prototype,"level",{get:function(){return e.internalToLevel(this.internal)},set:function(r){this.internal=e.internalBounds[r]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fighterPowerBonus",{get:function(){var r=this.internal,t=this.master;if(r<=0)return 0;var n=Math.sqrt(r/10),a=e.fighterPowerBonuses,o=a.fighterBonuses,s=a.seaplaneBomberBonuses;if(t.category.isFighter)for(var u=0,l=o;u<l.length;u++){var c=l[u],p=c.bound,f=c.value;if(p<=r)return f+n}else if(t.category.id===i.a.SeaplaneBomber)for(var d=0,h=s;d<h.length;d++){var m=h[d];p=m.bound,f=m.value;if(p<=r)return f+n}return n},enumerable:!0,configurable:!0}),e}();r.a=n,n.internalBounds=[0,10,25,40,55,70,85,100],n.fighterPowerBonuses={fighterBonuses:[{bound:100,value:22},{bound:70,value:14},{bound:55,value:9},{bound:40,value:5},{bound:25,value:2},{bound:0,value:0}],seaplaneBomberBonuses:[{bound:100,value:6},{bound:70,value:3},{bound:25,value:1},{bound:0,value:0}]}},281:function(e,r,t){"use strict";var i=function(){function e(e,r,t){this.player=e,this.enemy=r,this.battleType=t}return e.prototype.getShipInformation=function(e){var r=this.player,t=this.enemy,i=r.getShipInformation(e);if(i)return i;var n=t.getShipInformation(e);if(n)return n;throw console.error("ship info is not found")},e}();r.a=i},307:function(e,r,t){"use strict";var i=t(3432),n=t(122),a=t(616),o=t(70),s=function(){function e(e){var r=this;this.combatInformation=e,this.shotdownInFighterCombat=function(e,r,t){var i;if(t===n.a.Player){var a=r/4,o=Math.floor(r/3*100);i=Math.floor(Math.random()*(o+1))/100+a}else{o=11-r;i=.35*Math.floor(Math.random()*(o+1))+.65*Math.floor(Math.random()*(o+1))}var s=i/10,u=Math.floor(e.slotSize*s);e.category.isJetPoweredAircraft?e.shotdown(.6*u):e.shotdown(u)},this.shipAntiAirDefense=function(e,t,i){var a=r.combatInformation.battleType,s=r.combatInformation.getShipInformation(e),u=s.side,l=(s.fleetType,s.fleetRole),c=s.fleetAntiAir,p=Object(o.c)(a,l),f=0;if(Math.random()>.5){var d=Object(o.d)(e,u,p);f+=Math.floor(t.slotSize*d)}Math.random()>.5&&(f+=Object(o.a)(e,u,c,p)),i?f+=i.minimumBonus:u===n.a.Player&&(f+=1),t.shotdown(f)}}return e.prototype.fighterCombat=function(e,r){var t=this,i=e.reduce(function(e,r){return e+r.fighterPower},0),o=r.reduce(function(e,r){return e+r.fighterPower},0),s=a.a.fromFighterPower(i,o);return e.forEach(function(e){return t.shotdownInFighterCombat(e,s.constant,n.a.Player)}),r.forEach(function(e){return t.shotdownInFighterCombat(e,s.constant,n.a.Enemy)}),s},e.prototype.antiAirDefense=function(e,r,t){for(var n=0,a=r;n<a.length;n++){var o=a[n],s=e[Object(i.a)(e.length-1)];this.shipAntiAirDefense(s,o,t)}},e}();r.a=s},319:function(e,r,t){"use strict";var i=t(14),n=t(3539),a=t(3432),o=function(e){if(Array.isArray(e)){var r=e.map(o);return Object(n.a)(r,function(e){return e&&e.id})}var t=e,i=Object(a.a)(100);return l.getPossibleAntiAirCutins(t).find(function(e){return 34===e.id||35===e.id?e.probability>Object(a.a)(100):e.probability>i})},s=o,u=function(){function e(e,r,t,i){this.id=e,this.minimumBonus=r,this.fixedAirDefenseModifier=t,this.probability=i}return e.fromId=function(e){return this.all.find(function(r){return r.id===e})},e}(),l=r.a=u;u.all=[[1,8,1.7,65],[2,7,1.7,58],[3,5,1.6,50],[4,7,1.5,52],[5,5,1.5,55],[6,5,1.45,40],[7,4,1.35,45],[8,5,1.4,50],[9,3,1.3,40],[10,9,1.65,60],[11,7,1.5,55],[12,4,1.25,45],[13,5,1.35,35],[14,5,1.45,63],[15,4,1.3,58],[16,5,1.4,60],[17,3,1.25,55],[18,3,1.2,60],[19,6,1.45,55],[20,4,1.25,70],[21,6,1.45,60],[22,3,1.2,63],[23,2,1.05,80],[24,4,1.25,60],[25,8,1.55,60],[26,7,1.4,60],[28,5,1.4,53],[29,6,1.55,58],[30,4,1.3,42],[31,3,1.25,50],[32,4,1.2,32],[33,4,1.35,42],[34,8,1.6,60],[35,7,1.55,53],[36,7,1.55,59],[37,5,1.45,38]].map(function(e){return new(u.bind.apply(u,[void 0].concat(e)))}),u.try=s,u.getPossibleAntiAirCutins=function(e){return function(e){var r;!function(e){e[e.MayaKai2=428]="MayaKai2",e[e.IsuzuKai2=141]="IsuzuKai2",e[e.KasumiKai2B=470]="KasumiKai2B",e[e.KinuKai2=487]="KinuKai2",e[e.YuraKai2=488]="YuraKai2",e[e.MusashiKai=148]="MusashiKai",e[e.MusashiKai2=546]="MusashiKai2",e[e.IsokazeBKai=557]="IsokazeBKai",e[e.HamakazeBKai=558]="HamakazeBKai",e[e.SatsukiKai2=418]="SatsukiKai2",e[e.FumizukiKai2=548]="FumizukiKai2",e[e.Uit25=539]="Uit25",e[e.I504=530]="I504",e[e.TatsutaKai2=478]="TatsutaKai2"}(r||(r={}));var t=function(r){return e.masterId===r},i=e.shipClass.is("IseClass")&&77!==e.masterId&&87!==e.masterId,n=function(e){return e.isHighAngleMount},a=function(e){return n(e)&&e.antiAir>=8},o=function(e){return e.category.isRadar},s=function(e){return o(e)&&e.antiAir>=2},u=function(e){return e.category.is("AntiAircraftGun")},l=function(e){return u(e)&&e.antiAir>=9},c=function(e){return u(e)&&e.antiAir>=3&&e.antiAir<9},p=function(e){return 274===e.masterId},f=function(e){return e.category.is("AntiAircraftShell")},d=function(e){return e.category.is("AntiAircraftFireDirector")},h=function(e){return e.category.either("LargeCaliberMainGun","LargeCaliberMainGun2")},m=function(r,t){return e.countEquipment(r)>=t},b=function(r){return e.hasEquipment(r)},g=[];return e.shipClass.is("FletcherClass")&&(e.countEquipment(308)>=2&&g.push(34),e.hasEquipment(308)&&e.hasEquipment(313)&&g.push(35),e.countEquipment(313)>=2&&(e.hasEquipment(307)&&g.push(36),g.push(37))),e.shipClass.is("AkizukiClass")&&b(n)?(m(n,2)&&b(o)&&g.push(1),b(o)&&g.push(2),m(n,2)&&g.push(3)):(t(r.MayaKai2)&&b(n)&&b(l)?(b(s)&&g.push(10),g.push(11)):t(r.IsuzuKai2)&&b(n)&&b(u)?(b(s)&&g.push(14),g.push(15)):t(r.KasumiKai2B)&&b(n)&&b(u)?(b(s)&&g.push(16),g.push(17)):t(r.KinuKai2)&&b(l)&&b(function(e){return n(e)&&e.antiAir<8})?g.push(19):t(r.YuraKai2)&&b(n)&&b(s)?g.push(21):i&&b(p)&&b(f)&&b(s)&&g.push(25),b(d)&&b(h)&&b(f)&&b(s)&&g.push(4),m(a,2)&&b(s)&&g.push(5),b(d)&&b(h)&&b(f)&&g.push(6),b(a)&&b(s)&&g.push(8),b(d)&&b(n)&&b(s)&&g.push(7),t(r.MusashiKai2)&&b(function(e){return 275===e.masterId})&&b(o)&&g.push(26),(i||t(r.MusashiKai)||t(r.MusashiKai2))&&b(p)&&b(s)&&g.push(28),(t(r.IsokazeBKai)||t(r.HamakazeBKai))&&b(n)&&b(s)&&g.push(29),b(d)&&b(n)&&g.push(9),b(l)&&(b(c)||b(l))&&b(s)&&g.push(12),b(a)&&b(l)&&b(s)&&g.push(13),t(r.SatsukiKai2)&&b(l)&&g.push(18),t(r.KinuKai2)&&b(l)&&g.push(20),t(r.FumizukiKai2)&&b(l)&&g.push(22),(t(r.Uit25)||t(r.I504))&&b(l)&&g.push(23),t(r.TatsutaKai2)&&b(n)&&b(c)&&g.push(24)),g}(e).map(function(e){return u.fromId(e)}).filter(i.a)}},3427:function(e,r,t){"use strict";var i=function(){function e(r,t){this.name=r,this.id=t,e.all.push(this)}return e.fromId=function(r){return e.all.find(function(e){return e.id===r})},Object.defineProperty(e.prototype,"fleetAntiAirModifier",{get:function(){switch(this){case e.DoubleLine:return 1.2;case e.Diamond:return 1.6;case e.Vanguard:case e.CruisingFormation1:return 1.1;case e.CruisingFormation3:return 1.5}return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shellingPowerModifier",{get:function(){switch(this){case e.CruisingFormation4:return 1.1;case e.DoubleLine:case e.CruisingFormation1:return.8;case e.Diamond:case e.CruisingFormation3:return.7;case e.Echelon:case e.LineAbreast:return.6}return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shellingAccuracyModifier",{get:function(){switch(this){case e.Diamond:return 1.1;case e.Echelon:return 1.2;case e.LineAbreast:return 1.3}return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nightBattleAccuracyModifier",{get:function(){switch(this){case e.LineAhead:return 1;case e.DoubleLine:return.9;case e.Diamond:return.7;case e.Echelon:case e.LineAbreast:return.8}return 1},enumerable:!0,configurable:!0}),e}();r.a=i,i.all=[],i.LineAhead=new i("単縦陣",1),i.DoubleLine=new i("複縦陣",2),i.Diamond=new i("輪形陣",3),i.Echelon=new i("梯形陣",4),i.LineAbreast=new i("単横陣",5),i.Vanguard=new i("警戒陣",6),i.CruisingFormation1=new i("第一警戒航行序列",11),i.CruisingFormation2=new i("第二警戒航行序列",12),i.CruisingFormation3=new i("第三警戒航行序列",13),i.CruisingFormation4=new i("第四警戒航行序列",14)},3431:function(e,r,t){"use strict";var i;!function(e){e.NormalBattle="NormalBattle",e.NightBattle="NightBattle",e.NightToDayBattle="NightToDayBattle",e.AerialBattle="AerialBattle",e.AirDefenseBattle="AirDefenseBattle"}(i||(i={})),r.a=i},3482:function(e,r,t){"use strict";var i,n;!function(e){e[e.Land=0]="Land",e[e.Slow=5]="Slow",e[e.Fast=10]="Fast",e[e.FastPlus=15]="FastPlus",e[e.Fastest=20]="Fastest"}(i||(i={})),function(e){e[e.FastA=0]="FastA",e[e.FastB1SlowA=1]="FastB1SlowA",e[e.FastB2SlowB=2]="FastB2SlowB",e[e.OtherC=3]="OtherC"}(n||(n={}));var a=function(){function e(r,t){var i=this;this.value=r,this.name=t,this.add=function(r){return e.fromNumber(i.value+r)}}return e.getSpeedGroup=function(r){var t=r.shipClass.name,i=r.shipType;if(e.fromNumber(r.nakedStats.speed)===e.Fast&&i.is("SeaplaneTender")||i.isSubmarine||["加賀型","夕張型","特種船丙型","工作艦","改風早型"].includes(t))return n.OtherC;if(["島風型","Ташкент級","大鳳型","翔鶴型","利根型","最上型"].includes(t))return n.FastA;if(["阿賀野型","蒼龍型","飛龍型","金剛型","大和型","Iowa級"].includes(t))return n.FastB1SlowA;var a=[181,316].includes(r.masterId),o=[404,406].includes(r.masterId),s=[331,429].includes(r.masterId),u=541===r.masterId;return a||o||s||u?n.FastB1SlowA:n.FastB2SlowB},e.getSpeedIncrement=function(e,r,t){var i=r+t;switch(e){case n.FastA:if(t>=1||i>=2)return 10;break;case n.FastB1SlowA:if(0===t)break;if(i>=3)return 15;if(i>=2)return 10;break;case n.FastB2SlowB:if(t>=2||i>=3)return 10}return i>=1?5:0},e}();r.a=a,a.Land=new a(0,"陸上"),a.Slow=new a(5,"低速"),a.Fast=new a(10,"高速"),a.FastPlus=new a(15,"高速+"),a.Fastest=new a(20,"最速"),a.fromNumber=function(e){var r=[a.Land,a.Slow,a.Fast,a.FastPlus,a.Fastest].find(function(r){return e<=r.value});return r||a.Fastest}},3483:function(e,r,t){"use strict";var i;!function(e){e.Single="Single",e.CarrierTaskForce="CarrierTaskForce",e.SurfaceTaskForce="SurfaceTaskForce",e.TransportEscort="TransportEscort",e.Combined="Combined"}(i||(i={})),r.a=i},3527:function(e,r,t){"use strict";var i=t(549),n=t(3551),a=t(410),o=t(14),s=t(153),u=function(){function e(e){this.hp=0,this.firepower=0,this.torpedo=0,this.antiAir=0,this.armor=0,this.asw=0,this.los=0,this.evasion=0,this.speed=0,this.range=0,this.luck=0,e&&this.add(e)}return e.prototype.add=function(e){for(var r=e.multiplier,t=void 0===r?1:r,i=0,n=s.d;i<n.length;i++){var a=n[i],o=e[a];"number"==typeof o&&(this[a]+=o*t)}return this},e}(),l=t(3539),c=[function(e){var r=e.equipments.filter(o.a).filter(function(e){return e.category.either("CarrierBasedReconnaissanceAircraft","CarrierBasedReconnaissanceAircraft2")}).map(function(e){return e.improvement.value});if(0!==r.length){var t=new u,i=Math.max.apply(Math,r);return i>=10?t.add({firepower:2,los:3}):i>=6?t.add({firepower:1,los:2}):i>=4?t.add({firepower:1,los:1}):i>=2&&t.add({los:1}),t}},function(e){var r=e.equipments.filter(function(e){return!!e&&61===e.masterId}),t=Object(l.a)(r,function(e){return e.improvement.value});if(t){var i=new u,n=t.improvement.value;return"伊勢改二"===e.name&&i.add({firepower:3,evasion:2,armor:1}),"日向改二"===e.name&&i.add({firepower:3,evasion:3,armor:3}),"蒼龍改二"===e.name&&(n>=1&&i.add({firepower:3,los:3}),n>=8&&i.add({firepower:1,los:1})),"飛龍改二"===e.name&&n>=1&&i.add({firepower:2,los:2}),["瑞鳳改二乙","鈴谷航改二","熊野航改二"].includes(e.name)&&n>=1&&i.add({firepower:1,los:1}),e.shipClass.is("IseClass")&&Object(o.c)(e.name)&&e.hasEquipment(function(e){return e.range>=3})&&i.add({range:1}),i}}],p=function(e){var r=e.category,t=e.los,i=e.improvement,n=.6;return r.is("CarrierBasedTorpedoBomber")?n=.8:r.either("CarrierBasedReconnaissanceAircraft","CarrierBasedReconnaissanceAircraft2")?n=1:r.is("ReconnaissanceSeaplane")?n=1.2:r.is("SeaplaneBomber")&&(n=1.1),n*(t+i.effectiveLosModifier)},f=function(e,r){var t=e.totalEquipmentStats,i=e.nakedStats,a=t(p),o=Object(n.a)(c,function(r){var t=r(e);return t?t.los:0});return Math.sqrt(i.los+o)+a*r-2},d=function(){return function(){}}(),h=d;d.equipmentEffectiveLos=p,d.shipEffectiveLos=f,d.fleetEffectiveLos=function(e,r,t){return e.totalShipStats(function(e){return f(e,r)})-Math.ceil(.4*t)+12};var m,b=function(){function e(e){var r=this;this.ships=e,this.totalShipStats=function(e){return Object(n.a)(r.nonNullableShips,e)},this.effectiveLos=function(e,t){return h.fleetEffectiveLos(r,e,t)}}return Object.defineProperty(e.prototype,"nonNullableShips",{get:function(){return this.ships.filter(o.a)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"planes",{get:function(){return Object(a.a)(this.nonNullableShips,function(e){return e.planes})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fighterPower",{get:function(){return Object(n.a)(this.planes.filter(function(e){return!e.category.isReconnaissanceAircraft}),function(e){return e.fighterPower})},enumerable:!0,configurable:!0}),e}(),g=function(){return function(e){var r=this;this.shipFactory=e,this.create=function(e){var t=e.ships.map(r.shipFactory.create);return new b(t)}}}(),y=function(){function e(e,r,t){var i=this;this.equipment=e,this.slots=r,this.index=t,this.contactSelectionRate=function(e){var r=i.equipment,t=r.los,n=r.improvement;return Math.ceil(t+n.contactSelectionModifier)/(20-2*e.contactMultiplier)}}return Object.defineProperty(e.prototype,"category",{get:function(){return this.equipment.category},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slotSize",{get:function(){return this.slots[this.index]},set:function(e){this.slots[this.index]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fighterPower",{get:function(){return function(e,r){if(0===r)return 0;var t=e.proficiency,i=function(e){return e.antiAir+1.5*e.interception+e.improvement.fighterPowerModifier}(e);return Math.floor(i*Math.sqrt(r)+t.fighterPowerBonus)}(this.equipment,this.slotSize)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interceptionPower",{get:function(){return function(e,r){if(0===r)return 0;var t=e.proficiency,i=function(e){return e.antiAir+e.interception+2*e.antiBomber+e.improvement.fighterPowerModifier}(e);return Math.floor(i*Math.sqrt(r)+t.fighterPowerBonus)}(this.equipment,this.slotSize)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canContact",{get:function(){var e=this.category;return e.isTorpedoBomber||e.isReconnaissanceAircraft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contactTriggerFactor",{get:function(){var e=this.equipment,r=this.slotSize;return Math.floor(e.los*Math.sqrt(r))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canParticipateInAirstrike",{get:function(){var e=this.category;return 0!==this.slotSize&&(e.isDiveBomber||e.isTorpedoBomber)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fleetLosModifier",{get:function(){var e=this.category,r=this.equipment,t=this.slotSize;return e.isObservationPlane?r.los*Math.floor(Math.sqrt(t)):0},enumerable:!0,configurable:!0}),e.prototype.shotdown=function(e){this.slotSize-=e,this.slotSize<0&&(this.slotSize=0)},e}(),v=function(e,r){var t=new Array;return e.map(function(i,n){var a=r[n];i&&a&&a.category.isAerialCombatAircraft&&t.push(new y(a,e,n))}),t},C=function(e){var r=e.category,t=e.los;return r.is("LandBasedReconnaissanceAircraft")?t<=7?1.12:8===t?1.15:1.18:1},A=function(e){var r=e.category,t=e.los;return r.is("CarrierBasedReconnaissanceAircraft")||r.is("CarrierBasedReconnaissanceAircraft2")?t<=7?1.2:8===t?1.25:1.3:r.is("LandBasedReconnaissanceAircraft")?1.18:r.is("ReconnaissanceSeaplane")||r.is("LargeFlyingBoat")?t<=7?1.1:8===t?1.13:1.16:1},w=function(){function e(e,r){this.slots=e,this.equipments=r,this.planes=v(e,r)}return Object.defineProperty(e.prototype,"nonNullableEquipments",{get:function(){return this.equipments.filter(o.a)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fighterPower",{get:function(){var e=Object(n.a)(this.planes,function(e){return e.fighterPower}),r=Math.max.apply(Math,this.nonNullableEquipments.map(C));return Math.floor(e*r)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interceptionPower",{get:function(){var e=Object(n.a)(this.planes,function(e){return e.interceptionPower}),r=Math.max.apply(Math,this.nonNullableEquipments.map(A));return Math.floor(e*r)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minCombatRadius",{get:function(){return Math.min.apply(Math,this.nonNullableEquipments.map(function(e){return e.radius}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"combatRadius",{get:function(){var e=this.minCombatRadius,r=this.nonNullableEquipments,t=Math.max.apply(Math,r.map(function(e){var r=e.radius;return e.category.isReconnaissanceAircraft?r:0}));if(t>0){var i=Math.min(Math.sqrt(t-e),3);return Math.round(e+i)}return e},enumerable:!0,configurable:!0}),e}(),S=function(){return function(e){var r=this;this.equipmentFactory=e,this.create=function(e){var t=e.equipments,i=e.slots.concat(),n=t.map(r.equipmentFactory.create);return new w(i,n)}}}(),M=t(3483),B=function(){function e(e,r,t,i){this.side=e,this.fleetType=r,this.fleets=t,this.landBase=i}return Object.defineProperty(e.prototype,"mainFleet",{get:function(){return this.fleets[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"escortFleet",{get:function(){if(this.isCombinedFleetOperation)return this.fleets[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCombinedFleetOperation",{get:function(){return Boolean(this.fleetType!==M.a.Single)},enumerable:!0,configurable:!0}),e}(),P=function(){function e(e,r){this.fleetFactory=e,this.landBasedAirCorpsFactory=r}return e.prototype.create=function(e){var r=e.side,t=e.fleetType,i=e.fleets,n=e.landBase,a=i.map(this.fleetFactory.create),o=n.map(this.landBasedAirCorpsFactory.create);return new B(r,t,a,o)},e}(),q=[function(e){var r=e.countEquipment(318);if(0!==r){var t=new u,i=e.shipClass,n=Object(o.c)(e.name),a=i.is("NagatoClass")&&n,s=e.shipType.is("AviationBattleship")&&i.is("IseClass");return a&&t.add({multiplier:r,firepower:3,antiAir:2,evasion:1}),s&&t.add({multiplier:r,firepower:2,antiAir:2,evasion:2}),"日向改二"===e.name&&t.add({multiplier:r,firepower:1}),e.shipClass.is("FusouClass")&&n&&t.add({multiplier:r,firepower:1}),e.hasEquipment(290)&&(a&&t.add({firepower:2,evasion:2,armor:1}),s&&t.add({evasion:2,armor:1}),"日向改二"===e.name&&t.add({firepower:1})),e.hasEquipment(function(e){return e.isAntiAirRadar})&&s&&t.add({antiAir:2,evasion:3}),t}},function(e){var r=e.countEquipment(290);if(0!==r){var t=new u,i=e.shipClass,n=Object(o.c)(e.name);return i.is("FusouClass")&&n&&t.add({multiplier:r,firepower:1}),i.is("IseClass")&&Object(o.b)(e.name)&&t.add({multiplier:r,firepower:2,antiAir:2,evasion:1}),"伊勢改二"===e.name&&t.add({multiplier:r,firepower:3,antiAir:2,evasion:1}),"日向改二"===e.name&&t.add({multiplier:r,firepower:3,antiAir:2,evasion:2}),e.hasEquipment(function(e){return e.isAntiAirRadar})&&i.is("IseClass")&&n&&t.add({antiAir:2,evasion:3}),t}},function(e){var r=e.countEquipment(328);if(0!==r){var t=e.shipClass,i=new u;return t.is("KongouClass")&&("金剛改二丙"===e.name?i.add({multiplier:r,firepower:3,torpedo:1,evasion:1}):Object(o.c)(e.name)||Object(o.b)(e.name)?i.add({multiplier:r,firepower:2,evasion:1}):i.add({multiplier:r,firepower:1})),t.either("FusouClass","IseClass")&&i.add({multiplier:r,firepower:1}),i}},function(e){var r=e.countEquipment(329);if(0!==r){var t=e.shipClass,i=new u;return t.is("KongouClass")&&("金剛改二丙"===e.name?i.add({multiplier:r,firepower:4,torpedo:2,antiAir:1,evasion:1}):Object(o.c)(e.name)?i.add({multiplier:r,firepower:3,antiAir:1,evasion:1}):Object(o.b)(e.name)?i.add({multiplier:r,firepower:2,evasion:1}):i.add({multiplier:r,firepower:1})),t.either("FusouClass","IseClass")&&i.add({multiplier:r,firepower:1}),i}}],O=function(e){var r=e.countEquipment(119);if(0!==r){var t=new u,i=e.shipClass;return i.either("KatoriClass","YuubariClass")&&t.add({multiplier:r,firepower:1}),i.is("NisshinClass")&&t.add({multiplier:r,firepower:2,torpedo:1}),t}},F=function(e){var r=e.countEquipment(310);if(0!==r){var t=new u,i=e.shipClass;return i.is("YuubariClass")&&t.add({multiplier:r,firepower:2,antiAir:1,evasion:1}),i.is("KatoriClass")&&t.add({multiplier:r,firepower:2,evasion:1}),i.is("NisshinClass")&&t.add({multiplier:r,firepower:3,torpedo:2,antiAir:1,evasion:1}),t}};!function(e){e[e.KongouKai2=149]="KongouKai2",e[e.HieiKai2=150]="HieiKai2",e[e.HarunaKai2=151]="HarunaKai2",e[e.KirishimaKai2=152]="KirishimaKai2",e[e.Shinyou=534]="Shinyou",e[e.ShinyouKai=381]="ShinyouKai",e[e.ShinyouKai2=536]="ShinyouKai2",e[e.AobaKai=264]="AobaKai",e[e.KinugasaKai=295]="KinugasaKai",e[e.KinugasaKai2=142]="KinugasaKai2",e[e.FurutakaKai2=416]="FurutakaKai2",e[e.KakoKai2=417]="KakoKai2"}(m||(m={}));var E=m,j=[O,F,function(e){var r=e.countEquipment(90);if(0!==r){var t=new u,i=e.shipClass,n=e.name.includes("青葉");return[E.FurutakaKai2,E.KakoKai2,E.KinugasaKai].includes(e.masterId)&&t.add({multiplier:r,firepower:1}),E.AobaKai===e.masterId&&t.add({multiplier:r,firepower:1,antiAir:1}),E.KinugasaKai2===e.masterId&&t.add({multiplier:r,firepower:2,evasion:1}),e.hasEquipment(function(e){return e.isSurfaceRadar})&&(i.is("FurutakaClass")||i.is("AobaClass"))&&t.add({firepower:3,torpedo:2,evasion:2}),e.hasEquipment(function(e){return e.isAntiAirRadar})&&n&&t.add({antiAir:5,evasion:2}),t}},function(e){var r=e.countEquipment(303);if(0!==r){var t=new u,i=e.shipClass;return i.either("KumaClass","NagaraClass","SendaiClass","AganoClass")?t.add({multiplier:r,firepower:1,antiAir:1}):i.is("GotlandClass")&&t.add({multiplier:r,firepower:1,antiAir:2,evasion:1}),t}}],k=[function(e){var r=e.countEquipment(316);if(0!==r){var t=new u;return e.shipClass.is("AquilaClass")&&t.add({multiplier:r,firepower:4,antiAir:1,evasion:1}),t}},function(e){var r=e.countEquipment(184);if(0!==r){var t=new u;return e.shipClass.is("AquilaClass")&&t.add({multiplier:r,firepower:1,antiAir:2,evasion:3}),t}},function(e){var r=e.countEquipment(189);if(0!==r){var t=new u;return e.shipClass.either("AquilaClass","GrafZeppelinClass")&&t.add({multiplier:r,antiAir:1,evasion:2}),t}},function(e){var r=e.countEquipment(188);if(0!==r){var t=new u;return e.shipClass.is("AquilaClass")&&t.add({multiplier:r,firepower:3,antiAir:1,evasion:1}),t}}],I=function(e){var r=e.countEquipment(104);if(0!==r){var t=new u,i=e.masterId;return i===E.HarunaKai2?t.add({multiplier:r,firepower:2,antiAir:1,evasion:2}):i===E.KongouKai2?t.add({multiplier:r,firepower:2}):i!==E.HieiKai2&&i!==E.KirishimaKai2||t.add({multiplier:r,firepower:1}),t}},T=function(e){var r=e.countEquipment(15);if(0!==r){var t=new u,i=e.shipClass,n=e.name,a=Object(o.c)(n);return i.is("KagerouClass")&&a&&t.add({multiplier:r,torpedo:2}),t}},R=function(e){var r=e.countEquipment(174);if(0!==r){var t=new u,i=e.shipClass;return i.is("KamikazeClass")&&t.add({multiplier:r,torpedo:1,evasion:2}),i.is("KongouClass")&&t.add({multiplier:r,torpedo:6,evasion:3}),t}},K=function(e){var r=e.countEquipment(179);if(0!==r){var t=new u;return e.shipClass.is("AkizukiClass")&&t.add({multiplier:r,torpedo:1}),t}},L=function(e){var r=e.countEquipment(function(e){return 229===e.masterId&&e.improvement.value>=7});if(0!==r){var t=new u,i=e.name,n=e.shipClass.name,a="神風型"===n,o="睦月型"===n,s="海防艦"===e.shipType.name;return a||o||s?t.add({multiplier:r,firepower:1,antiAir:1}):"由良改二"===i?t.add({multiplier:r,firepower:2,antiAir:3}):"鬼怒改二"===i&&t.add({multiplier:r,firepower:2,antiAir:2}),e.hasEquipment(function(e){return e.isAntiAirRadar})&&(a||o?t.add({firepower:2,evasion:3}):s?t.add({firepower:1,evasion:4}):"由良改二"!==i&&"鬼怒改二"!==i||t.add({firepower:3,evasion:2})),t}},D=function(e){var r=e.countEquipment(266);if(0!==r){var t=new u,i=e.name,n=e.shipClass,a=n.is("ShiratsuyuClass"),s=n.is("AsashioClass"),l=n.is("KagerouClass");return l&&Object(o.c)(i)?1===r?t.add({firepower:2}):2===r?t.add({firepower:5}):3===r&&t.add({firepower:6}):"雪風改"===i||"磯風乙改"===i||"時雨改二"===i?t.add({multiplier:r,firepower:1,evasion:1}):(a||s||l)&&t.add({multiplier:r,firepower:1}),e.hasEquipment(function(e){return e.isSurfaceRadar})&&(a||s?t.add({firepower:1,torpedo:3,evasion:1}):l&&t.add({firepower:2,torpedo:3,evasion:1})),t}},N=function(e){var r=e.countEquipment(267);if(0!==r){var t=new u,i=e.name,n=e.shipClass.name,a="陽炎型"===n,s="夕雲型"===n,l="島風型"===n,c=Object(o.c)(i);return s&&c?t.add({multiplier:r,firepower:3,evasion:1}):s||l?t.add({multiplier:r,firepower:2,evasion:1}):a&&c?1===r?t.add({firepower:2,evasion:1}):2===r?t.add({firepower:3,evasion:2}):3===r&&t.add({firepower:4,evasion:3}):a&&t.add({multiplier:r,firepower:1,evasion:1}),e.hasEquipment(function(e){return e.isSurfaceRadar})&&(s&&c?t.add({firepower:3,torpedo:4,evasion:3}):s?t.add({firepower:2,torpedo:3,evasion:1}):"島風改"===i&&t.add({firepower:1,torpedo:3,evasion:2})),t}},z=function(e){var r=e.equipments.filter(o.a).filter(function(e){return 285===e.masterId}),t=r.length,i=r.filter(function(e){return e.improvement.value>=10}).length;if(0!==t){var n=new u,a=e.shipClass,s=Object(o.c)(e.name),l=a.isSpecialTypeDD&&s,c=a.is("HatsuharuClass")&&s;return(l||c)&&(n.add({multiplier:Math.min(t,2),torpedo:2,evasion:1}),n.add({multiplier:Math.min(i,2),firepower:1})),n}},G=function(e){var r=e.countEquipment(289);if(0!==r){var t=new u,i=e.name;return"金剛改二"===i?t.add({multiplier:r,firepower:2,antiAir:1}):"榛名改二"===i?t.add({multiplier:r,firepower:2,antiAir:2,evasion:2}):"比叡改二"!==i&&"霧島改二"!==i||t.add({multiplier:r,firepower:1}),e.hasEquipment(function(e){return e.isSurfaceRadar})&&("金剛改二"!==i&&"榛名改二"!==i||t.add({firepower:2,evasion:2})),t}},H=function(e){var r=e.countEquipment(293);if(0!==r){var t=new u,i=e.shipClass.name,n="占守型"===i,a="択捉型"===i,o="神風型"===i,s="睦月型"===i;o||s?t.add({multiplier:r,firepower:2,antiAir:1,evasion:3}):(n||a)&&t.add({multiplier:r,firepower:1,antiAir:1,evasion:2}),e.hasEquipment(function(e){return e.isSurfaceRadar})&&(o||s?t.add({firepower:2,torpedo:1,evasion:3}):(n||a)&&t.add({firepower:2,evasion:3,asw:1}));var l=e.countEquipment(174);return 1===l?t.add({firepower:2,torpedo:4}):2===l&&t.add({firepower:3,torpedo:7}),t}},_=function(e){var r=e.countEquipment(294);if(0!==r){var t=new u;if(e.shipClass.isSpecialTypeDD){t.add({multiplier:r,firepower:1}),e.hasEquipment(function(e){return e.isSurfaceRadar})&&t.add({firepower:3,torpedo:1,evasion:2});var i=e.countEquipment(285),n=e.countEquipment(13)+e.countEquipment(125)+i;n>=1&&t.add({firepower:1,torpedo:3}),n>=2&&t.add({firepower:1,torpedo:2}),i>=1&&t.add({torpedo:1})}return t}},x=function(e){var r=e.countEquipment(295);if(0!==r){var t=new u;if(e.shipClass.isSpecialTypeDD){t.add({multiplier:r,firepower:2,antiAir:2}),e.hasEquipment(function(e){return e.isSurfaceRadar})&&t.add({firepower:3,torpedo:1,evasion:2}),e.hasEquipment(function(e){return e.isAntiAirRadar})&&t.add({antiAir:6});var i=e.countEquipment(285),n=e.countEquipment(13)+e.countEquipment(125)+i;n>=1&&t.add({firepower:1,torpedo:3}),n>=2&&t.add({firepower:1,torpedo:2}),i>=1&&t.add({torpedo:1})}return t}},J=function(e){var r=e.countEquipment(296);if(0!==r){var t=new u,i=e.name,n=e.shipClass;return n.either("AyanamiClass","AkatsukiClass")?t.add({multiplier:r,firepower:1}):n.is("HatsuharuClass")?t.add({multiplier:r,firepower:1,evasion:1}):"白露改二"===i?t.add({multiplier:r,firepower:2,evasion:2}):"時雨改二"===i?t.add({multiplier:r,firepower:2,antiAir:1,evasion:1}):"村雨改二"===i?t.add({multiplier:r,firepower:1,antiAir:1,evasion:2}):"夕立改二"===i?t.add({multiplier:r,firepower:2,antiAir:1,evasion:1}):"江風改二"===i?t.add({multiplier:r,firepower:2,evasion:2}):n.is("ShiratsuyuClass")&&t.add({multiplier:r,firepower:1}),e.hasEquipment(function(e){return e.isSurfaceRadar})&&(n.either("AyanamiClass","AkatsukiClass","HatsuharuClass")?t.add({firepower:1,torpedo:2,evasion:2}):n.is("ShiratsuyuClass")&&t.add({firepower:1,torpedo:3,evasion:2})),e.hasEquipment(function(e){return e.isAntiAirRadar})&&(n.either("AyanamiClass","AkatsukiClass","HatsuharuClass")?t.add({antiAir:5}):n.is("ShiratsuyuClass")&&t.add({antiAir:6})),e.hasEquipment(285)&&n.either("AyanamiClass","AkatsukiClass","HatsuharuClass")&&t.add({firepower:1,torpedo:3}),e.hasEquipment(286)&&n.is("ShiratsuyuClass")&&t.add({firepower:1,torpedo:3}),t}},V=function(e){var r=e.countEquipment(297);if(0!==r){var t=new u,i=e.shipClass.name,n="綾波型"===i,a="暁型"===i;return"吹雪型"===i?t.add({multiplier:r,evasion:2}):(n||a)&&t.add({multiplier:r,evasion:1}),t}},U=function(e){var r=e.countEquipment(301);if(0!==r&&e.shipClass.isRoyalNavy)return new u({multiplier:r,antiAir:2,evasion:1,armor:1})},Y=function(e){var r=e.countEquipment(304);if(0!==r){var t=new u,i=e.shipClass;return i.is("KumaClass")||i.is("NagaraClass")||i.is("SendaiClass")||i.is("AganoClass")?t.add({multiplier:r,firepower:1,evasion:1,asw:1}):i.is("GotlandClass")&&t.add({multiplier:r,firepower:1,evasion:2,asw:2}),t}},Z=t(3482),Q=[function(e){if(0!==e.countEquipment(35)){var r=new u;return"金剛改二"===e.name||"金剛改二丙"===e.name?r.add({firepower:1,antiAir:1}):"比叡改二"===e.name?r.add({antiAir:1}):"榛名改二"===e.name?r.add({antiAir:1,evasion:1}):"霧島改二"===e.name&&r.add({firepower:1}),r}},function(e){if(0!==e.countEquipment(317)){var r=new u;return"金剛改二"===e.name||"金剛改二丙"===e.name?r.add({firepower:3,antiAir:3}):"比叡改二"===e.name?r.add({firepower:2,antiAir:2}):"榛名改二"===e.name||"陸奥改二"===e.name?r.add({firepower:2,antiAir:2,evasion:1}):"霧島改二"===e.name?r.add({firepower:3,antiAir:2}):"長門改二"===e.name?r.add({firepower:1,antiAir:2}):e.shipClass.is("KongouClass")&&r.add({firepower:1,antiAir:1}),r}}].concat([function(e){if(e.hasEquipment(268)&&["多摩改","多摩改二","木曾改","木曾改二"].includes(e.name))return new u({evasion:7,armor:2})}],j,q,k,c,[function(e){if(0!==e.countEquipment(74)){var r=new u,t=e.name,i=t.includes("比叡"),n=t.includes("霧島"),a=t.includes("鳥海"),o=t.includes("神通"),s=t.includes("暁"),l=t.includes("秋雲"),c=t.includes("雪風");return o?r.add({firepower:2,torpedo:2,evasion:-1}):i||n||a||s?r.add({firepower:2,evasion:-1}):l?r.add({firepower:1}):c&&r.add({antiAir:1}),r}},function(e){if(0!==e.countEquipment(140)){var r=new u,t=e.name,i=t.includes("比叡"),n=t.includes("霧島");return(i||n)&&r.add({firepower:3,evasion:-2}),r}}],[function(e){var r=e.countEquipment(313);if(0!==r){var t=new u,i=e.shipClass,n=e.shipType;return i.isUsNavy&&n.is("Destroyer")&&t.add({multiplier:r,firepower:2,antiAir:2,evasion:1,armor:1}),t}},function(e){var r=e.countEquipment(308);if(0!==r){var t=new u,i=e.shipClass;if(e.shipType.is("Destroyer"))return i.isUsNavy?t.add({multiplier:r,firepower:2,antiAir:1,evasion:1}):t.add({multiplier:r,firepower:1}),t}},function(e){var r=e.countEquipment(282);if(0!==r){var t=new u,i=e.name.includes("Ташкент"),n=e.name.includes("Верный"),a=e.name.includes("夕張");return(i||n||a)&&t.add({multiplier:r,firepower:2,armor:1}),t}}],[function(e){var r=e.equipments.filter(o.a).filter(function(e){return 286===e.masterId}),t=r.length,i=r.filter(function(e){return e.improvement.value>=5}).length,n=r.filter(function(e){return e.improvement.value>=10}).length;if(0!==t){var a=new u,s=e.shipClass;if(Object(o.c)(e.name))return s.either("ShiratsuyuClass","AsashioClass","KagerouClass","YuugumoClass")&&(a.add({multiplier:Math.min(t,2),torpedo:2,evasion:1}),a.add({multiplier:Math.min(n,2),firepower:1}),s.is("KagerouClass")&&a.add({multiplier:Math.min(i,2),torpedo:1})),a}},function(e){var r=e.countEquipment(283);if(0!==r){var t=new u,i=e.name.includes("Ташкент"),n=e.name.includes("Верный");return(i||n)&&t.add({multiplier:r,firepower:1,torpedo:3,armor:1}),t}},function(e){var r=e.countEquipment(314);if(0!==r){var t=new u,i=e.shipClass,n=e.shipType;return i.isUsNavy&&n.is("Destroyer")&&t.add({multiplier:r,firepower:1,torpedo:3}),t}}],[function(e){var r=e.countEquipment(307);if(0!==r){var t=new u;return e.shipClass.isUsNavy&&t.add({multiplier:r,firepower:1,antiAir:1,evasion:1}),t}},function(e){var r=e.countEquipment(315);if(0!==r){var t=new u,i=e.shipClass;return i.either("JohnCButlerClass","FletcherClass")?(t.add({multiplier:r,firepower:3,evasion:3,los:4}),t.add({range:1})):i.isUsNavy&&t.add({multiplier:r,firepower:2,evasion:3,los:4}),t}},function(e){var r=e.countEquipment(106);if(0!==r){var t=new u,i=function(r){return["","改","乙改","改二","改二乙","改ニ丁"].map(function(e){return r+e}).includes(e.name)};return["潮","時雨","初霜"].some(i)||["榛名改二","長門改二"].includes(e.name)?t.add({multiplier:r,firepower:1,antiAir:2,evasion:3,armor:1}):["矢矧","霞","雪風","磯風","磯風","浜風","朝霜","涼月"].some(i)?t.add({multiplier:r,antiAir:2,evasion:2,armor:1}):(["大淀","響","鹿島"].some(i)||147===e.masterId)&&t.add({multiplier:r,antiAir:1,evasion:3,armor:1}),t}}],[function(e){var r=e.countEquipment(47);if(0!==r){var t=new u,i=function(r){return["","改","乙改","改二","改二乙","改ニ丁"].map(function(e){return r+e}).includes(e.name)};return["神風","春風","時雨","山風","舞風","朝霜"].some(i)?t.add({multiplier:r,firepower:1,evasion:2,asw:3}):["潮","雷","山雲","磯風","浜風","岸波"].some(i)&&t.add({multiplier:r,evasion:2,asw:2}),t}}],[function(e){var r=e.countEquipment(79)+e.countEquipment(81);if(0!==r){var t=new u,i=Object(o.c)(e.name),n=e.shipClass,a=n.is("IseClass"),s=n.is("FusouClass")&&i;return a&&i?t.add({multiplier:r,firepower:3}):(a||s)&&t.add({multiplier:r,firepower:2}),t}},function(e){var r=e.countEquipment(237);if(0!==r){var t=new u,i=Object(o.c)(e.name),n=e.shipClass,a=n.is("IseClass"),s=n.is("FusouClass")&&i;return a&&i?t.add({multiplier:r,firepower:4,evasion:2}):a?t.add({multiplier:r,firepower:3,evasion:1}):s&&t.add({multiplier:r,firepower:2}),t}},function(e){var r=e.countEquipment(322);if(0!==r){var t=new u;return e.shipClass.is("IseClass")&&Object(o.c)(e.name)&&t.add({multiplier:r,firepower:5,antiAir:2,asw:1,evasion:2}),t}},function(e){var r=e.countEquipment(323);if(0!==r){var t=new u;return e.shipClass.is("IseClass")&&Object(o.c)(e.name)&&t.add({multiplier:r,firepower:6,antiAir:3,asw:2,evasion:3}),t}}],[function(e){var r=e.countEquipment(326);if(0!==r){var t=new u;return"伊勢改二"===e.name&&t.add({multiplier:r,firepower:2,asw:1,evasion:2}),"日向改二"===e.name&&t.add({multiplier:r,firepower:3,asw:2,evasion:3}),t}},function(e){var r=e.countEquipment(327);if(0!==r){var t=new u;return"伊勢改二"===e.name&&t.add({multiplier:r,firepower:1,asw:3,evasion:1}),"日向改二"===e.name&&t.add({multiplier:r,firepower:2,asw:4,evasion:2}),t}},function(e){var r=e.countEquipment(324)+e.countEquipment(325);if(0!==r){var t=new u;return"伊勢改二"===e.name&&t.add({multiplier:r,antiAir:1,evasion:1}),"日向改二"===e.name&&t.add({multiplier:r,antiAir:2,evasion:1}),t}}],[I,T,R,K,L,D,N,z,G,H,_,x,J,V,U,Y,function(e){if(e.hasEquipment(33)){var r=Z.a.getSpeedGroup(e),t=e.countEquipment(34),i=e.countEquipment(87),n=Z.a.getSpeedIncrement(r,t,i);return n>0?new u({speed:n}):[561,681].includes(e.masterId)?new u({speed:5}):void 0}},function(e){var r=e.countEquipment(58);if(0!==r){var t=new u,i=e.shipClass;return(e.shipType.is("TorpedoCruiser")||i.is("ShimakazeClass")||i.is("AkizukiClass"))&&t.add({multiplier:r,torpedo:1}),t}},function(e){var r=e.countEquipment(63);if(0!==r){var t=new u,i=e.name,n=e.shipClass.name;return"綾波型"===n||"暁型"===n||"初春型"===n?t.add({multiplier:r,antiAir:1}):["白露改","白露改二","村雨改二"].includes(i)?t.add({multiplier:r,evasion:1}):"時雨改二"===i?t.add({multiplier:r,firepower:1}):"夕立改二"===i?t.add({multiplier:r,firepower:1,torpedo:1,antiAir:1,evasion:2}):"江風改二"===i&&t.add({multiplier:r,evasion:2}),t}},function(e){var r=e.countEquipment(67);if(0!==r){var t=new u;return e.shipType.isSubmarine||t.add({multiplier:r,torpedo:-5}),t}},function(e){var r=e.countEquipment(298)+e.countEquipment(299)+e.countEquipment(300);if(0!==r){var t=new u,i=e.shipClass;return i.is("NelsonClass")?t.add({multiplier:r,firepower:2,armor:1}):i.is("QueenElizabethClass")?t.add({multiplier:r,firepower:2,armor:1,evasion:-2}):i.is("KongouClass")&&Object(o.c)(e.name)&&t.add({multiplier:r,firepower:1,armor:1,evasion:-3}),t}},function(e){var r=e.countEquipment(305)+e.countEquipment(306);if(0!==r){var t=new u,i=e.shipClass,n=[E.Shinyou,E.ShinyouKai,E.ShinyouKai2].includes(e.masterId);return i.either("GrafZeppelinClass","AquilaClass")?t.add({multiplier:r,firepower:1,evasion:1}):n?t.add({multiplier:r,asw:3,evasion:2}):i.is("TaiyouClass")&&t.add({multiplier:r,asw:1,evasion:1}),t}},function(e){var r=Object(o.c)(e.name);if(e.shipClass.is("IseClass")&&r){var t=e.countEquipment(100),i=e.countEquipment(291),n=e.countEquipment(292),a=e.countEquipment(24)+e.countEquipment(57)+e.countEquipment(111),s=e.countEquipment(319),l=new u;return t&&l.add({multiplier:t,firepower:4}),i&&l.add({multiplier:i,firepower:6,evasion:1}),n&&l.add({multiplier:n,firepower:8,evasion:2}),a&&l.add({multiplier:a,firepower:2}),s&&l.add({multiplier:s,firepower:7,antiAir:3,evasion:2}),l}},function(e){var r=e.countEquipment(82)+e.countEquipment(302);if(0!==r){var t=new u;return e.shipClass.is("TaiyouClass")&&t.add({multiplier:r,asw:1,evasion:1}),t}}]),X=function(e){var r=new u;return Q.forEach(function(t){var i=t(e);i&&r.add(i)}),r},$=function(){function e(e,r){this.maxHp=e,this.nowHp=r}return Object.defineProperty(e.prototype,"damage",{get:function(){var e=this.nowHp/this.maxHp;return e<=.25?"Heavy":e<=.5?"Moderate":e<=.75?"Minor":"Less"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shellingPowerModifier",{get:function(){switch(this.damage){case"Heavy":return.4;case"Minor":return.7;default:return 1}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"torpedoPowerModifire",{get:function(){switch(this.damage){case"Heavy":return 0;case"Minor":return.8;default:return 1}},enumerable:!0,configurable:!0}),e}(),W=function(){function e(e){void 0===e&&(e=49),this.value=e}return Object.defineProperty(e.prototype,"state",{get:function(){var e=this.value;return e>=50?"Sparkling":e>=30?"Normal":e>=20?"Orange":"Red"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shellingAccuracyModifier",{get:function(){switch(this.state){case"Sparkling":return 1.2;case"Normal":return 1;case"Orange":return.8;case"Red":return.5}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nightBattleAccuracyModifier",{get:function(){return this.shellingAccuracyModifier},enumerable:!0,configurable:!0}),e}(),ee=t(3481),re=function(){function e(e,r,t,i,a,s,u,l){var c=this;this.master=e,this.stats=r,this.nakedStats=t,this.health=i,this.morale=a,this.slots=s,this.equipments=u,this.planes=l,this.canEquip=function(e,r){var t=c.master.equippable,i=e.masterId,n=e.category;if(!t.categories.includes(n.id))return!1;if(c.slots.length<=r){return ee.a.includes(n.id)||t.expantionSlot.includes(i)||33===i}return!c.shipClass.is("IseClass")||!Object(o.c)(c.name)||!(r>1&&n.isMainGun)},this.hasEquipment=function(e){return"number"==typeof e?c.nonNullableEquipments.some(function(r){return r.masterId===e}):c.nonNullableEquipments.some(e)},this.countEquipment=function(e){var r=c.nonNullableEquipments;return void 0===e?r.length:"number"==typeof e?r.filter(function(r){return r.masterId===e}).length:r.filter(e).length},this.totalEquipmentStats=function(e){return Object(n.a)(c.nonNullableEquipments,e)},this.slotCapacities=e.slotCapacities.concat()}return Object.defineProperty(e.prototype,"masterId",{get:function(){return this.master.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.master.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shipClass",{get:function(){return this.master.shipClass},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shipType",{get:function(){return this.master.shipType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.nakedStats.level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonNullableEquipments",{get:function(){return this.equipments.filter(o.a)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canNightAttack",{get:function(){var e=this.shipClass,r=(this.shipType,this.health),t=this.master;if("Heavy"===r.damage)return!1;if(e.is("ArkRoyalClass")){var i=[242,243,244];return"Moderate"!==r.damage&&this.hasEquipment(function(e){return i.includes(e.masterId)})}return t.firepower[0]>0},enumerable:!0,configurable:!0}),e}(),te=function(){function e(e,r,t){this.nakedStats=e,this.equipments=r,this.statsBonus=t}return e.prototype.getStat=function(e){var r=this.nakedStats,t=this.equipments,i=this.statsBonus,a=0;return void 0!==i&&(a=i[e]),r[e]+Object(n.a)(t.filter(o.a),e)+a},Object.defineProperty(e.prototype,"hp",{get:function(){return this.nakedStats.hp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firepower",{get:function(){return this.getStat("firepower")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"torpedo",{get:function(){return this.getStat("torpedo")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"antiAir",{get:function(){return this.getStat("antiAir")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"armor",{get:function(){return this.getStat("armor")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"los",{get:function(){return this.getStat("los")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asw",{get:function(){return this.getStat("asw")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"evasion",{get:function(){return this.getStat("evasion")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"luck",{get:function(){return this.nakedStats.luck},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.getStat("speed")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){var e=this.nakedStats,r=this.equipments,t=this.statsBonus,i=e.range,n=Object(l.a)(r,"range"),a=n&&n.range>i?n.range:i;return void 0===t?a:a+t.range},enumerable:!0,configurable:!0}),e}(),ie=function(){return function(e,r){var t=this;this.masters=e,this.equipmentFactory=r,this.create=function(e){if(e){var r=e.masterId,i=e.level,n=e.increased,a=e.equipments,o=e.morale,u=t.masters.find(function(e){return e.id===r});if(u){var l=a.map(t.equipmentFactory.create),c=new s.c(u,i,n),p=new te(c,l),f=e.nowHp,d=void 0===f?p.hp:f,h=new $(p.hp,d),m=new W(o),b=e.slots.concat(),g=v(b,l),y=new re(u,p,c,h,m,b,l,g);return y.stats.statsBonus=X(y),y}}}}}(),ne=function(){function e(e){this.masterData=e,this.equipmentFactory=new i.a(e.equipments),this.shipFactory=new ie(e.ships,this.equipmentFactory),this.fleetFactory=new g(this.shipFactory),this.landBasedAirCorpsFactory=new S(this.equipmentFactory),this.operationFactory=new P(this.fleetFactory,this.landBasedAirCorpsFactory)}return e.prototype.createOperation=function(e){return this.operationFactory.create(e)},e.prototype.createFleet=function(e){return this.fleetFactory.create(e)},e.prototype.createLandBasedAirCorps=function(e){return this.landBasedAirCorpsFactory.create(e)},e.prototype.createShip=function(e){return this.shipFactory.create(e)},e.prototype.createEquipment=function(e){return this.equipmentFactory.create(e)},e}();r.a=ne},3529:function(e,r,t){"use strict";var i={};t.r(i),t.d(i,"AircraftCarrierCutin",function(){return d}),t.d(i,"ArtillerySpotting",function(){return p}),t.d(i,"SpecialAttack",function(){return m}),t.d(i,"Shelling",function(){return C});var n={};t.r(n),t.d(n,"SpecialAttack",function(){return S});var a=t(354),o=t(3551),s=t(616),u=function(e){var r=e.totalShipStats(function(e){return e.nakedStats.los})+Object(o.a)(e.planes,function(e){return e.fleetLosModifier});return Math.floor(Math.sqrt(r)+.1*r)},l=function(e,r,t,i){var n=e.stats.luck,a=Math.floor(Math.sqrt(n)+10),o=e.totalEquipmentStats("los"),u=i?15:0;return t===s.a.AirSupremacy?Math.floor(a+.7*(r+1.6*o)+10)+u:t===s.a.AirSuperiority?Math.floor(a+.6*(r+1.2*o))+u:0},c=function(){return function e(r,t,i,n){this.id=r,this.name=t,this.powerModifier=i,this.typeFactor=n,e.all.push(this)}}(),p=c;c.all=[],c.MainMain=new c(6,"主主",1.5,150),c.MainApShell=new c(5,"主徹",1.3,140),c.MainRader=new c(4,"主電",1.2,130),c.MainSecond=new c(3,"主副",1.1,120),c.DoubleAttack=new c(2,"連撃",1.2,130),c.calculateFleetLosModifier=u,c.calculateArtillerySpottingBaseValue=l,c.getPossibleArtillerySpottings=function(e){var r=new Array;if("Heavy"===e.health.damage)return r;var t=e.planes.some(function(e){return e.category.isObservationPlane&&e.slotSize>0}),i=e.countEquipment(function(e){return e.category.isMainGun});if(!t||0===i)return r;var n=e.hasEquipment(function(e){return e.category.is("ArmorPiercingShell")}),a=e.hasEquipment(function(e){return e.category.is("SecondaryGun")}),o=e.hasEquipment(function(e){return e.category.isRadar});return i>=2&&(r.push(c.DoubleAttack),n&&r.push(c.MainMain)),a&&(r.push(c.MainSecond),o&&r.push(c.MainRader),n&&r.push(c.MainApShell)),r.sort(function(e,r){return r.id-e.id})};var f=function(){return function e(r,t,i){this.name=r,this.powerModifier=t,this.typeFactor=i,e.all.push(this)}}(),d=f;f.all=[],f.FighterBomberAttacker=new f("FBA",1.25,125),f.BomberBomberAttacker=new f("BBA",1.2,140),f.BomberAttacker=new f("BA",1.15,155),f.calculateFleetLosModifier=u,f.calculateAircraftCarrierCutinBaseValue=l,f.getPossibleAircraftCarrierCutins=function(e){var r=new Array;if(!e.shipType.isAircraftCarrier)return r;var t=e.planes.filter(function(e){return e.slotSize>0}),i=t.filter(function(e){return e.category.is("CarrierBasedDiveBomber")}).length,n=t.some(function(e){return e.category.is("CarrierBasedTorpedoBomber")});return 0!==i&&n?(r.push(f.BomberAttacker),i>=2&&r.push(f.BomberBomberAttacker),t.some(function(e){return e.category.is("CarrierBasedFighterAircraft")})&&r.push(f.FighterBomberAttacker),r.sort(function(e,r){return e.typeFactor-r.typeFactor})):r};var h=function(){return function e(r,t,i,n){this.id=r,this.name=t,this.powerModifier=i,this.typeFactor=n,e.all.push(this)}}(),m=h;h.all=[],h.MainMain=new h(6,"主主",1.5,150),h.MainApShell=new h(5,"主徹",1.3,140),h.MainRader=new h(4,"主電",1.2,130),h.MainSecond=new h(3,"主副",1.1,120),h.DoubleAttack=new h(2,"連撃",1.2,130),h.FighterBomberAttacker=new h(7,"FBA",1.25,125),h.BomberBomberAttacker=new h(7,"BBA",1.2,140),h.BomberAttacker=new h(7,"BA",1.15,155);var b=t(3427),g=t(14),y=function(e,r,t,i){void 0===t&&(t=1),void 0===i&&(i=1);var n=e.stats,a=e.health,o=e.totalEquipmentStats,s=(5+n.firepower+o(function(e){return e.improvement.shellingPowerModifier}))*r.shellingPowerModifier*t*a.shellingPowerModifier,u=Math.floor(Object(g.d)(180,s));return Math.floor(u*i)},v=function(){return function(e,r){void 0===r&&(r=b.a.LineAhead),this.power=0,this.accuracy=0,this.power=y(e,r)}}(),C=v;v.calcPower=y,v.calcAccuracy=function(e,r,t,i,n){void 0===t&&(t=0),void 0===i&&(i=1),void 0===n&&(n=1);var a=e.stats,o=e.totalEquipmentStats,s=e.level,u=e.morale,l=(e.totalEquipmentStats(function(e){return e.accuracy+e.improvement.shellingAccuracyModifier}),e.morale.shellingAccuracyModifier,r.shellingAccuracyModifier,o(function(e){return e.accuracy+e.improvement.shellingAccuracyModifier})),c=(90+Math.sqrt(1.5*a.luck)+2*Math.sqrt(s)+l)*r.shellingAccuracyModifier*u.shellingAccuracyModifier+t;return Math.floor(c*i*n)};var A=function(e){var r=e.nakedStats,t=e.level;return r.luck<50?Math.floor(r.luck+15+.75*Math.sqrt(t)):Math.floor(Math.sqrt(r.luck-50)+65+.8*Math.sqrt(t))},w=function(){return function e(r,t,i,n,a){var o=this;this.id=r,this.name=t,this.typeFactor=i,this.powerModifier=n,this.calcRate=function(r){return o===e.DoubleAttack?109/110:Math.ceil(r)/o.typeFactor},this.accuracyModifier=a||1.1}}(),S=w;w.DoubleAttack=new w(1,"連撃",110,1.2,1.1),w.MainTorp=new w(2,"主魚",115,1.3,1.5),w.TorpTorp=new w(3,"魚雷",122,1.5,1.6),w.SubmarineTorpTorp=new w(3,"潜水魚雷",110,1.65),w.SubmarineRadarTorp=new w(3,"潜水電探",102,1.75),w.MainMainSecond=new w(4,"主副",130,1.75,1.65),w.MainMainMain=new w(5,"主砲",140,2,1.5),w.MainTorpRadar=new w(7,"主魚電",130,1.3),w.TorpRadarLookout=new w(8,"魚見電",150,1.2),w.getPossibleSpecialAttacks=function(e){var r=e.shipType,t=e.hasEquipment,i=e.countEquipment,n=new Array;if(!e.canNightAttack)return n;var a=i(function(e){return e.category.is("SubmarineTorpedo")}),o=i(function(e){return e.category.is("Torpedo")})+a;r.is("Destroyer")&&t(function(e){return e.isSurfaceRadar})&&o>=1&&(t(function(e){return e.category.is("SmallCaliberMainGun")})&&n.push(w.MainTorpRadar),t(129)&&n.push(w.TorpRadarLookout));var s=i(function(e){return e.category.isMainGun}),u=i(function(e){return e.category.is("SecondaryGun")});return a>=1&&t(function(e){return e.category.is("SubmarineEquipment")})?n.push(w.SubmarineRadarTorp):a>=2?n.push(w.SubmarineTorpTorp):s>=3?n.push(w.MainMainMain):s>=2&&u>=1?n.push(w.MainMainSecond):o>=2?n.push(w.TorpTorp):s>=1&&o>=1?n.push(w.MainTorp):s+u>=2&&n.push(w.DoubleAttack),n},w.calcPreModifierValue=A,w.calcBaseValue=function(e,r,t,i){var n=A(e);return r&&(n+=15),"Moderate"===e.health.damage&&(n+=18),e.hasEquipment(129)&&(n+=5),t.searchlight&&(n+=7),i.searchlight&&(n+=-5),t.starshell&&(n+=4),i.starshell&&(n+=-10),n},t.d(r,"a",function(){return a}),t.d(r,"b",function(){return i}),t.d(r,"c",function(){return n})},3530:function(e,r,t){"use strict";var i=t(3476),n=t(3477),a=t(3479),o=t(3478),s=t(77),u=function(){function e(e,r){var t=this;this.id=e,this.name=r,this.is=function(e){return t.id===s.a[e]},this.either=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.some(t.is)}}return e.fromId=function(r){var t=e.all.find(function(e){return e.id===r});if(t)return t;var i=new e(r,"");return this.all.push(i),i},Object.defineProperty(e.prototype,"isRadar",{get:function(){return this.either("SmallRadar","LargeRadar","LargeRadar2")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCarrierBasedAircraft",{get:function(){return this.either("CarrierBasedFighterAircraft","CarrierBasedDiveBomber","CarrierBasedTorpedoBomber","CarrierBasedReconnaissanceAircraft","CarrierBasedReconnaissanceAircraft2")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSeaplane",{get:function(){return this.either("ReconnaissanceSeaplane","SeaplaneBomber","SeaplaneFighter","LargeFlyingBoat")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLandBasedAircraft",{get:function(){return this.either("LandBasedAttackAircraft","LandBasedFighter","LandBasedReconnaissanceAircraft")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isJetPoweredAircraft",{get:function(){return this.either("JetPoweredFighter","JetPoweredFighterBomber","JetPoweredTorpedoBomber","JetPoweredReconnaissanceAircraft")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFighter",{get:function(){return this.either("CarrierBasedFighterAircraft","SeaplaneFighter","LandBasedFighter","JetPoweredFighter")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDiveBomber",{get:function(){return this.either("CarrierBasedDiveBomber","SeaplaneBomber","JetPoweredFighterBomber")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTorpedoBomber",{get:function(){return this.either("CarrierBasedTorpedoBomber","JetPoweredTorpedoBomber","LandBasedAttackAircraft")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReconnaissanceAircraft",{get:function(){return this.either("CarrierBasedReconnaissanceAircraft","CarrierBasedReconnaissanceAircraft2","ReconnaissanceSeaplane","LargeFlyingBoat","JetPoweredReconnaissanceAircraft","LandBasedReconnaissanceAircraft")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAerialCombatAircraft",{get:function(){return this.isFighter||this.isDiveBomber||this.isTorpedoBomber||this.isReconnaissanceAircraft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAircraft",{get:function(){var e=this,r=e.isFighter,t=e.isDiveBomber,i=e.isTorpedoBomber,n=e.isReconnaissanceAircraft,a=e.either;return r||t||i||n||a("Autogyro","AntiSubmarinePatrolAircraft")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isArmor",{get:function(){return this.either("ExtraArmor","MediumExtraArmor","LargeExtraArmor")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isObservationPlane",{get:function(){return this.either("SeaplaneBomber","ReconnaissanceSeaplane")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMainGun",{get:function(){return this.either("SmallCaliberMainGun","MediumCaliberMainGun","LargeCaliberMainGun","LargeCaliberMainGun2")},enumerable:!0,configurable:!0}),e}(),l=u;u.all=o.a.map(function(e){var r=e.api_id,t=e.api_name;return new u(r,t)});var c=function(){function e(e,r,t){this.category=r,this.improvable=t,this.radius=0,this.id=e.api_id,this.name=e.api_name,this.typeIds=e.api_type,this.hp=e.api_taik,this.armor=e.api_souk,this.firepower=e.api_houg,this.torpedo=e.api_raig,this.speed=e.api_soku,this.bombing=e.api_baku,this.antiAir=e.api_tyku,this.asw=e.api_tais,this.los=e.api_saku,this.luck=e.api_luck,this.range=e.api_leng;var i=e.api_houm,n=e.api_houk;this.accuracy=0,this.evasion=0,this.antiBomber=0,this.interception=0,this.typeIds[2]===s.a.LandBasedFighter?(this.antiBomber=i,this.interception=n):(this.accuracy=i,this.evasion=n),e.api_distance&&(this.radius=e.api_distance)}return Object.defineProperty(e.prototype,"categoryId",{get:function(){return this.typeIds[2]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconId",{get:function(){return this.typeIds[3]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHighAngleMount",{get:function(){return 16===this.iconId},enumerable:!0,configurable:!0}),e}(),p=c;c.abyssalIdFrom=500;var f,d=function(){return(d=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)},h=function(e){return"number"==typeof e?[e,e]:e},m=function(){function e(r,t,i){this.shipType=t,this.shipClass=i,this.id=r.id,this.sortNo=r.sortNo,this.sortId=r.sortId,this.name=r.name,this.readingName=r.readingName,this.hp=h(r.hp),this.armor=h(r.armor),this.firepower=h(r.firepower),this.torpedo=h(r.torpedo),this.antiAir=h(r.antiAir),this.luck=h(r.luck),this.asw=h(r.asw),this.evasion=h(r.evasion),this.los=h(r.los),this.speed=r.speed,this.range=r.range,this.fuel=r.fuel,this.ammo=r.ammo,this.slotCapacities=r.slotCapacities,this.equipments=r.equipments,r.remodel?this.remodel=r.remodel:this.remodel={nextId:0,nextLevel:0};var n=r.equippable?r.equippable:{};this.equippable=d({categories:this.shipType.equippableCategoryIds,expantionSlot:[]},n),e.all.push(this)}return Object.defineProperty(e.prototype,"isAbyssal",{get:function(){return this.id>e.abyssalIdFrom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRemodel",{get:function(){return this.remodel.nextId>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canConvert",{get:function(){var r=this.id,t=this.remodel.nextId,i=e.all.find(function(e){return e.id===t});return!!i&&i.remodel.nextId===r},enumerable:!0,configurable:!0}),e}(),b=m;m.all=new Array,m.abyssalIdFrom=1500,function(e){e[e.AyanamiClass=1]="AyanamiClass",e[e.IseClass=2]="IseClass",e[e.KagaClass=3]="KagaClass",e[e.KumaClass=4]="KumaClass",e[e.AkatsukiClass=5]="AkatsukiClass",e[e.KongouClass=6]="KongouClass",e[e.FurutakaClass=7]="FurutakaClass",e[e.TakaoClass=8]="TakaoClass",e[e.MogamiClass=9]="MogamiClass",e[e.HatsuharuClass=10]="HatsuharuClass",e[e.ShouhouClass=11]="ShouhouClass",e[e.FubukiClass=12]="FubukiClass",e[e.AobaClass=13]="AobaClass",e[e.AkagiClass=14]="AkagiClass",e[e.ChitoseClass=15]="ChitoseClass",e[e.SendaiClass=16]="SendaiClass",e[e.SouryuuClass=17]="SouryuuClass",e[e.AsashioClass=18]="AsashioClass",e[e.NagatoClass=19]="NagatoClass",e[e.NagaraClass=20]="NagaraClass",e[e.TenryuuClass=21]="TenryuuClass",e[e.ShimakazeClass=22]="ShimakazeClass",e[e.ShiratsuyuClass=23]="ShiratsuyuClass",e[e.HiyouClass=24]="HiyouClass",e[e.HiryuuClass=25]="HiryuuClass",e[e.FusouClass=26]="FusouClass",e[e.HoushouClass=27]="HoushouClass",e[e.MutsukiClass=28]="MutsukiClass",e[e.MyoukouClass=29]="MyoukouClass",e[e.KagerouClass=30]="KagerouClass",e[e.ToneClass=31]="ToneClass",e[e.RyuujouClass=32]="RyuujouClass",e[e.ShoukakuClass=33]="ShoukakuClass",e[e.YuubariClass=34]="YuubariClass",e[e.TypeKaidaiVIa=35]="TypeKaidaiVIa",e[e.TypeBMod2=36]="TypeBMod2",e[e.YamatoClass=37]="YamatoClass",e[e.YuugumoClass=38]="YuugumoClass",e[e.TypeB=39]="TypeB",e[e.JunsenIIIType=40]="JunsenIIIType",e[e.AganoClass=41]="AganoClass",e[e.FleetOfFog=42]="FleetOfFog",e[e.TaihouClass=43]="TaihouClass",e[e.I400Class=44]="I400Class",e[e.AkitsuMaruClass=45]="AkitsuMaruClass",e[e.Type3SubmergenceTransportVehicle=46]="Type3SubmergenceTransportVehicle",e[e.BismarckClass=47]="BismarckClass",e[e.Z1Class=48]="Z1Class",e[e.RepairShip=49]="RepairShip",e[e.TaigeiClass=50]="TaigeiClass",e[e.RyuuhouClass=51]="RyuuhouClass",e[e.OoyodoClass=52]="OoyodoClass",e[e.UnryuuClass=53]="UnryuuClass",e[e.AkizukiClass=54]="AkizukiClass",e[e.AdmiralHipperClass=55]="AdmiralHipperClass",e[e.KatoriClass=56]="KatoriClass",e[e.TypeIXCClass=57]="TypeIXCClass",e[e.VittorioVenetoClass=58]="VittorioVenetoClass",e[e.AkitsushimaClass=59]="AkitsushimaClass",e[e.RevisedKazahayaClass=60]="RevisedKazahayaClass",e[e.MaestraleClass=61]="MaestraleClass",e[e.MizuhoClass=62]="MizuhoClass",e[e.GrafZeppelinClass=63]="GrafZeppelinClass",e[e.ZaraClass=64]="ZaraClass",e[e.IowaClass=65]="IowaClass",e[e.KamikazeClass=66]="KamikazeClass",e[e.QueenElizabethClass=67]="QueenElizabethClass",e[e.AquilaClass=68]="AquilaClass",e[e.LexingtonClass=69]="LexingtonClass",e[e.CommandantTesteClass=70]="CommandantTesteClass",e[e.TypeAM=71]="TypeAM",e[e.KamoiClass=72]="KamoiClass",e[e.GangutClass=73]="GangutClass",e[e.ShimushuClass=74]="ShimushuClass",e[e.KasugaMaruClass=75]="KasugaMaruClass",e[e.TaiyouClass=76]="TaiyouClass",e[e.EtorofuClass=77]="EtorofuClass",e[e.ArkRoyalClass=78]="ArkRoyalClass",e[e.RichelieuClass=79]="RichelieuClass",e[e.MarconiClass=80]="MarconiClass",e[e.TashkentClass=81]="TashkentClass",e[e.JClass=82]="JClass",e[e.CasablancaClass=83]="CasablancaClass",e[e.EssexClass=84]="EssexClass",e[e.HiburiClass=85]="HiburiClass",e[e.RO500=86]="RO500",e[e.JohnCButlerClass=87]="JohnCButlerClass",e[e.NelsonClass=88]="NelsonClass",e[e.GotlandClass=89]="GotlandClass",e[e.NisshinClass=90]="NisshinClass",e[e.FletcherClass=91]="FletcherClass"}(f||(f={}));var g=f,y=function(){function e(e,r){var t=this;this.id=e,this.name=r,this.is=function(e){return t.id===g[e]},this.either=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.some(t.is)}}return e.fromId=function(r){var t=e.all.find(function(e){return e.id===r});if(t)return t;var i=new e(r,"");return e.all.push(i),i},Object.defineProperty(e.prototype,"isSpecialTypeDD",{get:function(){return this.either("FubukiClass","AyanamiClass","AkatsukiClass")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isUsNavy",{get:function(){return this.either("JohnCButlerClass","FletcherClass","IowaClass","LexingtonClass","EssexClass","CasablancaClass")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoyalNavy",{get:function(){return this.either("QueenElizabethClass","NelsonClass","ArkRoyalClass","JClass")},enumerable:!0,configurable:!0}),e}(),v=y;y.all=[[1,"綾波型"],[2,"伊勢型"],[3,"加賀型"],[4,"球磨型"],[5,"暁型"],[6,"金剛型"],[7,"古鷹型"],[8,"高雄型"],[9,"最上型"],[10,"初春型"],[11,"祥鳳型"],[12,"吹雪型"],[13,"青葉型"],[14,"赤城型"],[15,"千歳型"],[16,"川内型"],[17,"蒼龍型"],[18,"朝潮型"],[19,"長門型"],[20,"長良型"],[21,"天龍型"],[22,"島風型"],[23,"白露型"],[24,"飛鷹型"],[25,"飛龍型"],[26,"扶桑型"],[27,"鳳翔型"],[28,"睦月型"],[29,"妙高型"],[30,"陽炎型"],[31,"利根型"],[32,"龍驤型"],[33,"翔鶴型"],[34,"夕張型"],[35,"海大VI型"],[36,"巡潜乙型改二"],[37,"大和型"],[38,"夕雲型"],[39,"巡潜乙型"],[40,"巡潜3型"],[41,"阿賀野型"],[42,"霧の艦隊"],[43,"大鳳型"],[44,"潜特型(伊400型潜水艦)"],[45,"特種船丙型"],[46,"三式潜航輸送艇"],[47,"Bismarck級"],[48,"Z1型"],[49,"工作艦"],[50,"大鯨型"],[51,"龍鳳型"],[52,"大淀型"],[53,"雲龍型"],[54,"秋月型"],[55,"Admiral Hipper級"],[56,"香取型"],[57,"UボートIXC型"],[58,"V.Veneto級"],[59,"秋津洲型"],[60,"改風早型"],[61,"Maestrale級"],[62,"瑞穂型"],[63,"Graf Zeppelin級"],[64,"Zara級"],[65,"Iowa級"],[66,"神風型"],[67,"Queen Elizabeth級"],[68,"Aquila級"],[69,"Lexington級"],[70,"C.Teste級"],[71,"巡潜甲型改二"],[72,"神威型"],[73,"Гангут級"],[74,"占守型"],[75,"春日丸級"],[76,"大鷹型"],[77,"択捉型"],[78,"Ark Royal級"],[79,"Richelieu級"],[80,"Guglielmo Marconi級"],[81,"Ташкент級"],[82,"J級"],[83,"Casablanca級"],[84,"Essex級"],[85,"日振型"],[86,"呂号潜水艦"],[87,"John C.Butler級"],[88,"Nelson級"],[89,"Gotland級"],[90,"日進型"],[91,"Fletcher級"]].map(function(e){return new(y.bind.apply(y,[void 0].concat(e)))});var C,A=t(3480);!function(e){e[e.CoastalDefenseShip=1]="CoastalDefenseShip",e[e.Destroyer=2]="Destroyer",e[e.LightCruiser=3]="LightCruiser",e[e.TorpedoCruiser=4]="TorpedoCruiser",e[e.HeavyCruiser=5]="HeavyCruiser",e[e.AviationCruiser=6]="AviationCruiser",e[e.LightAircraftCarrier=7]="LightAircraftCarrier",e[e.Battlecruiser=8]="Battlecruiser",e[e.Battleship=9]="Battleship",e[e.AviationBattleship=10]="AviationBattleship",e[e.AircraftCarrier=11]="AircraftCarrier",e[e.SuperDreadnoughts=12]="SuperDreadnoughts",e[e.Submarine=13]="Submarine",e[e.SubmarineAircraftCarrier=14]="SubmarineAircraftCarrier",e[e.Transport=15]="Transport",e[e.SeaplaneTender=16]="SeaplaneTender",e[e.AmphibiousAssaultShip=17]="AmphibiousAssaultShip",e[e.ArmoredAircraftCarrier=18]="ArmoredAircraftCarrier",e[e.RepairShip=19]="RepairShip",e[e.SubmarineTender=20]="SubmarineTender",e[e.TrainingCruiser=21]="TrainingCruiser",e[e.FleetOiler=22]="FleetOiler"}(C||(C={}));var w=C,S=function(){function e(e,r,t){var i=this;this.id=e,this.name=r,this.equippableCategoryIds=t,this.either=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.some(i.is)},e===w.Battlecruiser&&(this.name="巡洋戦艦")}return e.fromId=function(r){var t=e.all.find(function(e){return e.id===r});if(t)return t;var i=new e(r,"",[]);return e.all.push(i),i},e.prototype.is=function(e){return this.id===w[e]},Object.defineProperty(e.prototype,"isDestroyer",{get:function(){return this.id===w.Destroyer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBattleship",{get:function(){return[w.Battlecruiser,w.Battleship,w.AviationBattleship,w.SuperDreadnoughts].includes(this.id)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAircraftCarrier",{get:function(){return[w.LightAircraftCarrier,w.AircraftCarrier,w.ArmoredAircraftCarrier].includes(this.id)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSubmarine",{get:function(){return[w.Submarine,w.SubmarineAircraftCarrier].includes(this.id)},enumerable:!0,configurable:!0}),e}(),M=S;S.all=A.a.map(function(e){var r=Object.entries(e.api_equip_type).filter(function(e){e[0];return 1===e[1]}).map(function(e){var r=e[0];e[1];return Number(r)});return new S(e.api_id,e.api_name,r)});var B=function(){function e(e){void 0===e&&(e=i.a),this.shipsData=e,this.equipments=n.a.map(function(e){var r=e.api_id,t=e.api_type[2];128===r||281===r?t=s.a.LargeCaliberMainGun2:142===r?t=s.a.LargeRadar2:151===r&&(t=s.a.CarrierBasedReconnaissanceAircraft2);var i=l.fromId(t),n=a.a.includes(e.api_id);return new p(e,i,n)}),this.ships=e.map(function(e){var r=M.fromId(e.shipTypeId),t=v.fromId(e.classId);return new b(e,r,t)})}return e.prototype.findMasterEquipment=function(e){return this.equipments.find(function(r){return r.id===e})},e.prototype.findMasterShip=function(e){return this.ships.find(function(r){return r.id===e})},e}();r.a=B},354:function(e,r,t){"use strict";t.r(r);var i=t(246);t.d(r,"AntiAirCutin",function(){return i.a});var n=t(466);t.d(r,"CarrierBasedAerialCombat",function(){return n.a});var a=t(467);t.d(r,"LandBaseAerialSupport",function(){return a.a})},409:function(e,r,t){"use strict";var i;!function(e){e.MainFleet="MainFleet",e.EscortFleet="EscortFleet"}(i||(i={})),r.a=i},466:function(e,r,t){"use strict";var i,n=t(410),a=t(307),o=t(319),s=(i=function(e,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)},function(e,r){function t(){this.constructor=e}i(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}),u=function(e){function r(r){var t=e.call(this,r)||this,i=t.combatInformation,n=i.player,a=i.enemy;return n.isCombinedFleet&&a.isCombinedFleet?(t.playerAntiAirDefenseShips=n.allShips,t.enemyAntiAirDefenseShips=a.allShips):(t.playerAntiAirDefenseShips=n.mainFleet.nonNullableShips,t.enemyAntiAirDefenseShips=a.mainFleet.nonNullableShips),t}return s(r,e),r.prototype.main=function(){var e=this.playerAntiAirDefenseShips,r=this.enemyAntiAirDefenseShips,t=this.combatInformation,i=Object(n.a)(e,function(e){return e.planes}),a=Object(n.a)(r,function(e){return e.planes}),s=i.filter(function(e){return!e.category.isReconnaissanceAircraft}),u=a.filter(function(e){return!e.category.isReconnaissanceAircraft}),l=this.fighterCombat(s,u),c=t.player,p=(t.enemy,s.filter(function(e){return e.slotSize>0&&e.canParticipateInAirstrike})),f=u.filter(function(e){return e.slotSize>0&&e.canParticipateInAirstrike});return this.antiAirDefense(e,f,o.a.try(c.allShips)),this.antiAirDefense(r,p,o.a.try(c.allShips)),{airControlState:l}},r}(a.a);r.a=u},467:function(e,r,t){"use strict";var i,n=t(410),a=t(616),o=t(122),s=t(307),u=(i=function(e,r){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)},function(e,r){function t(){this.constructor=e}i(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}),l=function(e){function r(r,t){var i=e.call(this,r)||this;return i.landBasedAirCorps=t,i}return u(r,e),r.prototype.main=function(){var e=this,r=this.combatInformation.enemy,t=this.landBasedAirCorps,i=t.fighterPower,s=t.planes,u=Object(n.a)(r.allShips,function(e){return e.planes}),l=u.reduce(function(e,r){return e+r.fighterPower},0),c=a.a.fromFighterPower(i,l);s.forEach(function(r){return e.shotdownInFighterCombat(r,c.constant,o.a.Player)}),u.forEach(function(r){return e.shotdownInFighterCombat(r,c.constant,o.a.Enemy)});var p=s.filter(function(e){return e.slotSize>0&&e.canParticipateInAirstrike});return this.antiAirDefense(r.allShips,p),{airControlState:c}},r}(s.a);r.a=l},549:function(e,r,t){"use strict";var i=function(){function e(e,r,t){this.master=e,this.improvement=r,this.proficiency=t}return Object.defineProperty(e.prototype,"masterId",{get:function(){return this.master.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.master.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"category",{get:function(){return this.master.category},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconId",{get:function(){return this.master.iconId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hp",{get:function(){return this.master.hp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"armor",{get:function(){return this.master.armor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firepower",{get:function(){return this.master.firepower},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"torpedo",{get:function(){return this.master.torpedo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.master.speed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bombing",{get:function(){return this.master.bombing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"antiAir",{get:function(){return this.master.antiAir},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asw",{get:function(){return this.master.asw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"accuracy",{get:function(){return this.master.accuracy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interception",{get:function(){return this.master.interception},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"evasion",{get:function(){return this.master.evasion},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"antiBomber",{get:function(){return this.master.antiBomber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"los",{get:function(){return this.master.los},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"luck",{get:function(){return this.master.luck},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this.master.range},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.master.radius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAbyssal",{get:function(){return this.masterId>500},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHighAngleMount",{get:function(){return 16===this.iconId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSurfaceRadar",{get:function(){var e=this.category,r=this.los;return e.isRadar&&r>=5},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAntiAirRadar",{get:function(){var e=this.category,r=this.antiAir;return e.isRadar&&r>=2},enumerable:!0,configurable:!0}),e}(),n=t(279),a=t(280),o=function(){return function(e){var r=this;this.masters=e,this.create=function(e){if(e){var t=r.masters.find(function(r){return r.id===e.masterId});if(t){var o=new n.a(e.improvement,t),s=new a.a(e.proficiency,t);return new i(t,o,s)}}}}}();r.a=o},616:function(e,r,t){"use strict";var i=function(){function e(r,t,i){this.name=r,this.constant=t,this.id=i,e.values.push(this)}return e.fromFighterPower=function(r,t){return r>=3*t?e.AirSupremacy:r>=1.5*t?e.AirSuperiority:r>=2/3*t?e.AirParity:r>=1/3*t?e.AirDenial:e.AirIncapability},e.fromId=function(r){return e.values.find(function(e){return e.id===r})},Object.defineProperty(e.prototype,"contactMultiplier",{get:function(){switch(this){case e.AirSupremacy:return 3;case e.AirSuperiority:return 2;case e.AirDenial:return 1;default:return 0}},enumerable:!0,configurable:!0}),e}();r.a=i,i.values=new Array,i.AirSupremacy=new i("制空権確保",1,1),i.AirSuperiority=new i("航空優勢",3,2),i.AirParity=new i("制空均衡",5,0),i.AirDenial=new i("航空劣勢",7,3),i.AirIncapability=new i("制空権喪失",10,4)},70:function(e,r,t){"use strict";t.d(r,"e",function(){return u}),t.d(r,"b",function(){return c}),t.d(r,"c",function(){return p}),t.d(r,"d",function(){return f}),t.d(r,"a",function(){return d});var i=t(122),n=t(409),a=t(3431),o=function(e){var r=e.antiAir,t=e.category,i=e.improvement,n=e.isHighAngleMount;if(0===r)return 0;var a=0;return t.is("AntiAircraftGun")?a=6:t.is("AntiAircraftFireDirector")||n?a=4:t.isRadar&&(a=3),a*r+i.adjustedAntiAirModifier},s=function(e){var r=e.name,t=e.antiAir,i=e.category,n=e.isHighAngleMount,a=e.improvement;if(0===t)return 0;return(i.is("AntiAircraftFireDirector")||n?.35:i.is("AntiAircraftShell")?.6:i.isRadar?.4:"46cm三連装砲"===r?.25:.2)*t+a.fleetAntiAirModifier},u=function(e,r){var t=e.stats,n=e.nakedStats,a=(0,e.totalEquipmentStats)(o);if(r===i.a.Enemy)return Math.floor(2*Math.sqrt(t.antiAir)+a);var s=n.antiAir+a;return 0===e.countEquipment()?s:2*Math.floor(s/2)},l=function(e){return Math.floor(e.totalEquipmentStats(s))},c=function(e,r,t){var n=(0,e.totalShipStats)(l),a=2*Math.floor(t*n);return r===i.a.Player?a/1.3:a},p=function(e,r){return r===n.a.EscortFleet?.48:e===a.a.AirDefenseBattle?.72:.8},f=function(e,r,t){return void 0===t&&(t=1),u(e,r)*t*.5*.25*.02},d=function(e,r,t,n,a){void 0===n&&(n=1);var o=.5*(u(e,r)+t)*.25*(r===i.a.Player?.8:.75)*n;return a&&(o*=a.fixedAirDefenseModifier),Math.floor(o)}},77:function(e,r,t){"use strict";var i;!function(e){e[e.SmallCaliberMainGun=1]="SmallCaliberMainGun",e[e.MediumCaliberMainGun=2]="MediumCaliberMainGun",e[e.LargeCaliberMainGun=3]="LargeCaliberMainGun",e[e.SecondaryGun=4]="SecondaryGun",e[e.Torpedo=5]="Torpedo",e[e.CarrierBasedFighterAircraft=6]="CarrierBasedFighterAircraft",e[e.CarrierBasedDiveBomber=7]="CarrierBasedDiveBomber",e[e.CarrierBasedTorpedoBomber=8]="CarrierBasedTorpedoBomber",e[e.CarrierBasedReconnaissanceAircraft=9]="CarrierBasedReconnaissanceAircraft",e[e.ReconnaissanceSeaplane=10]="ReconnaissanceSeaplane",e[e.SeaplaneBomber=11]="SeaplaneBomber",e[e.SmallRadar=12]="SmallRadar",e[e.LargeRadar=13]="LargeRadar",e[e.Sonar=14]="Sonar",e[e.DepthCharge=15]="DepthCharge",e[e.ExtraArmor=16]="ExtraArmor",e[e.EngineImprovement=17]="EngineImprovement",e[e.AntiAircraftShell=18]="AntiAircraftShell",e[e.ArmorPiercingShell=19]="ArmorPiercingShell",e[e.VTFuze=20]="VTFuze",e[e.AntiAircraftGun=21]="AntiAircraftGun",e[e.MidgetSubmarine=22]="MidgetSubmarine",e[e.EmergencyRepairPersonnel=23]="EmergencyRepairPersonnel",e[e.LandingCraft=24]="LandingCraft",e[e.Autogyro=25]="Autogyro",e[e.AntiSubmarinePatrolAircraft=26]="AntiSubmarinePatrolAircraft",e[e.MediumExtraArmor=27]="MediumExtraArmor",e[e.LargeExtraArmor=28]="LargeExtraArmor",e[e.Searchlight=29]="Searchlight",e[e.SupplyTransportContainer=30]="SupplyTransportContainer",e[e.ShipRepairFacility=31]="ShipRepairFacility",e[e.SubmarineTorpedo=32]="SubmarineTorpedo",e[e.StarShell=33]="StarShell",e[e.CommandFacility=34]="CommandFacility",e[e.AviationPersonnel=35]="AviationPersonnel",e[e.AntiAircraftFireDirector=36]="AntiAircraftFireDirector",e[e.AntiGroundEquipment=37]="AntiGroundEquipment",e[e.LargeCaliberMainGun2=38]="LargeCaliberMainGun2",e[e.SurfaceShipPersonnel=39]="SurfaceShipPersonnel",e[e.LargeSonar=40]="LargeSonar",e[e.LargeFlyingBoat=41]="LargeFlyingBoat",e[e.LargeSearchlight=42]="LargeSearchlight",e[e.CombatRation=43]="CombatRation",e[e.Supplies=44]="Supplies",e[e.SeaplaneFighter=45]="SeaplaneFighter",e[e.SpecialAmphibiousTank=46]="SpecialAmphibiousTank",e[e.LandBasedAttackAircraft=47]="LandBasedAttackAircraft",e[e.LandBasedFighter=48]="LandBasedFighter",e[e.LandBasedReconnaissanceAircraft=49]="LandBasedReconnaissanceAircraft",e[e.TransportationMaterial=50]="TransportationMaterial",e[e.SubmarineEquipment=51]="SubmarineEquipment",e[e.JetPoweredFighter=56]="JetPoweredFighter",e[e.JetPoweredFighterBomber=57]="JetPoweredFighterBomber",e[e.JetPoweredTorpedoBomber=58]="JetPoweredTorpedoBomber",e[e.JetPoweredReconnaissanceAircraft=59]="JetPoweredReconnaissanceAircraft",e[e.LargeRadar2=93]="LargeRadar2",e[e.CarrierBasedReconnaissanceAircraft2=94]="CarrierBasedReconnaissanceAircraft2"}(i||(i={})),r.a=i}}]);